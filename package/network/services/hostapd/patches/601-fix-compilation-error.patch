From 4f7dbfa92644a6b7740e3e09d481e00b9958f967 Mon Sep 17 00:00:00 2001
From: Claudiu Beznea <claudiu.beznea@microchip.com>
Date: Thu, 4 Jul 2019 15:15:15 +0300
Subject: [PATCH] fix compilation error

Signed-off-by: Claudiu Beznea <claudiu.beznea@microchip.com>
---
 src/ap/sta_info.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/ap/sta_info.c b/src/ap/sta_info.c
index 179cf43b60b1..929a04f491bb 100644
--- a/src/ap/sta_info.c
+++ b/src/ap/sta_info.c
@@ -699,7 +699,7 @@ struct sta_info * ap_sta_add(struct hostapd_data *hapd, const u8 *addr)
 	sta->last_seq_ctrl = WLAN_INVALID_MGMT_SEQ;
 	dl_list_init(&sta->ip6addr);
 
-#ifdef CONFIG_TAXONOMY
+#if defined(CONFIG_TAXONOMY) && defined(NEED_AP_MLME)
 	sta_track_claim_taxonomy_info(hapd->iface, addr,
 				      &sta->probe_ie_taxonomy);
 #endif /* CONFIG_TAXONOMY */
-- 
2.21.0

