From ec63b6878670c51b21cb5677d57f18d0337a438c Mon Sep 17 00:00:00 2001
From: Claudiu Beznea <claudiu.beznea@microchip.com>
Date: Wed, 26 Jun 2019 16:01:54 +0300
Subject: [PATCH] sta_info: fix compilation error

Signed-off-by: Claudiu Beznea <claudiu.beznea@microchip.com>
---
 src/ap/sta_info.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/ap/sta_info.c b/src/ap/sta_info.c
index 8e7c19656bf2..62e0ebaac7a5 100644
--- a/src/ap/sta_info.c
+++ b/src/ap/sta_info.c
@@ -700,10 +700,10 @@ struct sta_info * ap_sta_add(struct hostapd_data *hapd, const u8 *addr)
 	sta->last_seq_ctrl = WLAN_INVALID_MGMT_SEQ;
 	dl_list_init(&sta->ip6addr);
 
-#ifdef CONFIG_TAXONOMY
+#ifdef NEED_AP_MLME && CONFIG_TAXONOMY
 	sta_track_claim_taxonomy_info(hapd->iface, addr,
 				      &sta->probe_ie_taxonomy);
-#endif /* CONFIG_TAXONOMY */
+#endif /* NEED_AP_MLME && CONFIG_TAXONOMY */
 
 	return sta;
 }
-- 
2.21.0

